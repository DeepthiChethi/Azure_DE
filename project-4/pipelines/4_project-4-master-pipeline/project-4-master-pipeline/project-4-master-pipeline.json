{"$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"FabricDataPipelines ustaad":{"type":"string"},"dev_lakehouse":{"type":"string"},"local_connection":{"type":"string"}},"variables":{},"resources":[{"name":"project-4-master-pipeline","type":"pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"Invoke pipeline1","type":"InvokePipeline","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"waitOnCompletion":true,"operationType":"InvokeFabricPipeline","pipelineId":"baaf6167-b56d-4e98-aab9-503884547e24","workspaceId":"3a2747bb-bcf1-4e79-bf8d-2a99547c8d0f","parameters":{}},"externalReferences":{"connection":"[parameters('FabricDataPipelines ustaad')]"}},{"name":"Invoke pipeline2","type":"InvokePipeline","dependsOn":[{"activity":"Invoke pipeline1","dependencyConditions":["Succeeded"]}],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"waitOnCompletion":true,"operationType":"InvokeFabricPipeline","pipelineId":"1e828446-4cd1-4139-8e6f-812958ac9224","workspaceId":"3a2747bb-bcf1-4e79-bf8d-2a99547c8d0f","parameters":{}},"externalReferences":{"connection":"[parameters('FabricDataPipelines ustaad')]"}},{"name":"SCD Notebook","type":"TridentNotebook","dependsOn":[{"activity":"Invoke pipeline2","dependencyConditions":["Succeeded"]}],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"notebookId":"b153ed1d-8be5-44f1-ac31-45c871b13234","workspaceId":"3a2747bb-bcf1-4e79-bf8d-2a99547c8d0f"}},{"name":"Office 365 Outlook","type":"Office365Outlook","dependsOn":[{"activity":"SCD Notebook","dependencyConditions":["Succeeded"]}],"typeProperties":{"inputs":{"method":"post","path":"/v2/Mail","body":{"To":"amandeepsingh.mann13@gmail.com","Subject":"Pipeline has completed successfully ","Body":"<p>Dear sir,&nbsp;</p>\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fabric master pipeline of NCPL project 4 has completed successfully with pipeline ID : @{pipeline().Pipeline}</p>\n<p>regards,</p>\n<p>Azure Team</p>\n<p></p>","Sensitivity":"","Importance":"Normal"}}}}],"lastModifiedByObjectId":"605086df-ca69-489a-a4a1-dcadb9eeaa1c","lastPublishTime":"2025-05-04T17:59:32Z","logicAppsConnectionPayload":{"id":"/subscriptions/a66ca80d-94b2-4130-ab2b-8ceb5f68b96e/resourceGroups/connections-3a2747bb-bcf1-4e79-bf8d-2a99547c8d0f/providers/Microsoft.Web/connections/1_97849a80-5c5d-4d9f-85a6-896e30dac37e_605086df-ca69-489a-a4a1-dcadb9eeaa1c","properties":{"api":{"name":"office365","id":"/subscriptions/a66ca80d-94b2-4130-ab2b-8ceb5f68b96e/providers/Microsoft.Web/locations/canadacentral/managedApis/office365"}}}},"dependsOn":[]},{"name":"project-4-data-ingestion-pipeline","type":"pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"Delete data","type":"Delete","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"datasetSettings":{"annotations":[],"linkedService":{"name":"dev_lakehouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"3a2747bb-bcf1-4e79-bf8d-2a99547c8d0f","artifactId":"[parameters('dev_lakehouse')]","rootFolder":"Files"}}},"type":"Binary","typeProperties":{"location":{"type":"LakehouseLocation","folderPath":"project-4/raw-files"}}},"enableLogging":false,"storeSettings":{"type":"LakehouseReadSettings","recursive":true,"enablePartitionDiscovery":false}}},{"name":"Copy data","type":"Copy","dependsOn":[{"activity":"Delete data","dependencyConditions":["Succeeded"]}],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"DelimitedTextSource","storeSettings":{"type":"FileServerReadSettings","enablePartitionDiscovery":false},"formatSettings":{"type":"DelimitedTextReadSettings"},"datasetSettings":{"annotations":[],"type":"DelimitedText","typeProperties":{"location":{"type":"FileServerLocation","folderPath":"raw files"},"columnDelimiter":",","escapeChar":"\\","firstRowAsHeader":true,"quoteChar":"\""},"schema":[],"externalReferences":{"connection":"[parameters('local_connection')]"}}},"sink":{"type":"DelimitedTextSink","storeSettings":{"type":"LakehouseWriteSettings"},"formatSettings":{"type":"DelimitedTextWriteSettings","quoteAllText":true,"fileExtension":".txt"},"datasetSettings":{"annotations":[],"linkedService":{"name":"dev_lakehouse","properties":{"annotations":[],"type":"Lakehouse","typeProperties":{"workspaceId":"3a2747bb-bcf1-4e79-bf8d-2a99547c8d0f","artifactId":"[parameters('dev_lakehouse')]","rootFolder":"Files"}}},"type":"DelimitedText","typeProperties":{"location":{"type":"LakehouseLocation","folderPath":"project-4/raw-files"},"columnDelimiter":",","escapeChar":"\\","firstRowAsHeader":true,"quoteChar":"\""},"schema":[]}},"enableStaging":false,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}}],"lastModifiedByObjectId":"605086df-ca69-489a-a4a1-dcadb9eeaa1c","lastPublishTime":"2025-05-03T21:37:05Z"},"dependsOn":[]},{"name":"project-4-data-transformation-pipeline","type":"pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"Dataflow for transformation","type":"RefreshDataflow","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"dataflowId":"6b5cb4dd-f740-4527-8448-725cf2f12a60","workspaceId":"3a2747bb-bcf1-4e79-bf8d-2a99547c8d0f","notifyOption":"NoNotification","dataflowType":"Dataflow-Gen2"}}],"lastModifiedByObjectId":"605086df-ca69-489a-a4a1-dcadb9eeaa1c","lastPublishTime":"2025-05-03T23:36:08Z"},"dependsOn":[]}]}